@mixin carousel($w:100%, $h:420px) {
  .carousel {
    width: $w;
    height: $h;
    position: relative;
    overflow: hidden;

    .carousel__main {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      white-space: nowrap;
      overflow: visible;

      .slide-pannel {
        // lte IE 7
        display: inline-block;
        *display: inline;
        zoom: 1;
        width: 100%;
        height: 100%;
        background: transparent center no-repeat;
        // gte IE 9
        background-size: cover;
      }
    }

    .carousel__nav {
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 12px;
      text-align: center;
      padding: 15px 0;
      // gte IE 8
      // line-height: 42px;

      .slide-nav {
        // lte IE 7
        display: inline-block;
        *display: inline;
        zoom: 1;
        width: 12px;
        height: 12px;
        vertical-align: top;
        // gte IE 9
        border-radius: 50%;
        margin: 0 10px;
        overflow: hidden;

        &.slide-nav--active {
          .slide-nav__anchor {
            background-color: color(grey);
          }
        }

        .slide-nav__anchor {
          display: block;
          width: 100%;
          height: 100%;
          background-color: color(grey-light);
        }
      }
    }
  }
}

@mixin carouselFlex($w:100%, $h:420px, $len:3) {
  .carousel {
    flex: 0 0 auto;
    width: $w;
    height: $h;
    position: relative;
    overflow: hidden;

    .carousel__main {
      width: 100%;
      height: 100%;
      @include flexbox();
      overflow: visible;
      transition: transform 0.5s;

      .slide-pannel {
        flex: 0 0 100%;
        background: transparent center/cover no-repeat;
      }

      @for $i from 1 through $len {
        &[data-focus='#{$i}'] {
          transform: translateX((1 - $i) * 100%);
        }
      }
    }

    .carousel__nav {
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 42px;
      @include flexbox(row, nowrap, center, center);

      .slide-nav {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        margin: 0 10px;
        overflow: hidden;

        &.slide-nav--active {
          .slide-nav__anchor {
            background-color: color(grey);
          }
        }

        .slide-nav__anchor {
          display: block;
          width: 100%;
          height: 100%;
          background-color: color(grey-light);
        }
      }
    }
  }
}
